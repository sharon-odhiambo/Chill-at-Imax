"use strict";(self.webpackChunkchill_at_imax=self.webpackChunkchill_at_imax||[]).push([[179],{426:(n,r,e)=>{e.d(r,{Z:()=>l});var t=e(537),o=e.n(t),a=e(645),i=e.n(a),A=e(667),s=e.n(A),c=new URL(e(304),e.b),d=i()(o()),p=s()(c);d.push([n.id,"* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  background-color: black;\r\n}\r\n\r\nnav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  background-color: darkred;\r\n  height: 60px;\r\n  padding: 0 20px;\r\n}\r\n\r\nnav ul {\r\n  display: flex;\r\n  text-decoration: none;\r\n  list-style: none;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 15px;\r\n  font-size: 20px;\r\n}\r\n\r\nnav div a,\r\nnav ul li a {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n\r\nfooter {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 5px;\r\n  height: 50px;\r\n  background-color: darkred;\r\n}\r\n\r\n.footer div {\r\n  background-image: url("+p+");\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.movielist {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n  margin: auto;\r\n}\r\n\r\n.movie-items {\r\n  width: 80vw;\r\n  height: 100%;\r\n  margin: auto;\r\n}\r\n\r\n.movie-items img {\r\n  width: 100%;\r\n  height: 50vh;\r\n}\r\n\r\n.movie-items p {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: white;\r\n}\r\n\r\n.btn {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 10px;\r\n}\r\n\r\n.comments-button,\r\n.reserve {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  border-radius: 8px 2px;\r\n  background-color: darkred;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  position: fixed;\r\n  overflow-y: scroll;\r\n  width: 90vw;\r\n  height: 90vh;\r\n  background-color: darkred;\r\n  border: goldenrod;\r\n  left: 0;\r\n  right: 0;\r\n  top: 10px;\r\n  margin: auto;\r\n}\r\n\r\n.popup img {\r\n  width: 80vw;\r\n  margin: auto;\r\n  margin-top: 5%;\r\n  left: 20px;\r\n}\r\n\r\n.popup h3 {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 10%;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n}\r\n\r\nform input {\r\n  padding: 10px;\r\n  border: 3px solid goldenrod;\r\n}\r\n\r\nform textarea {\r\n  padding: 5px;\r\n  border: 3px solid goldenrod;\r\n}\r\n\r\nform button {\r\n  padding: 10px;\r\n  border: 3px solid goldenrod;\r\n  box-shadow: 3px 3px black;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.popup p,\r\n.popup ul {\r\n  color: darkturquoise;\r\n  font-size: 16px;\r\n  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.close-btn {\r\n  cursor: pointer;\r\n  width: 100%;\r\n  text-align: right;\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  border: none;\r\n  background: none;\r\n  color: #fff;\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n  nav {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 20px;\r\n    background-color: darkred;\r\n    height: 60px;\r\n    padding: 0 20px;\r\n  }\r\n\r\n  .movielist {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    gap: 10px 20px;\r\n    width: 95vw;\r\n    margin: auto;\r\n  }\r\n\r\n  .movie-items {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .movie-items img {\r\n    width: 100%;\r\n    height: 50vh;\r\n  }\r\n\r\n  .popup {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    position: fixed;\r\n    overflow-y: scroll;\r\n    width: 30vw;\r\n    height: 80vh;\r\n    background-color: darkred;\r\n    border: goldenrod;\r\n    top: 15%;\r\n    left: 10%;\r\n  }\r\n\r\n  .popup img {\r\n    width: 70%;\r\n    height: 50vh;\r\n    margin: auto;\r\n  }\r\n\r\n  .popup div {\r\n    width: 90%;\r\n    margin: auto;\r\n  }\r\n}\r\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,qBAAqB;EACrB,gBAAgB;EAChB,yBAAyB;EACzB,mBAAmB;EACnB,SAAS;EACT,eAAe;AACjB;;AAEA;;EAEE,qBAAqB;EACrB,YAAY;AACd;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,eAAe;EACf,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,yDAA0C;EAC1C,qBAAqB;EACrB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,YAAY;AACd;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,SAAS;AACX;;AAEA;;EAEE,YAAY;EACZ,eAAe;EACf,sBAAsB;EACtB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,8BAA8B;EAC9B,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,iBAAiB;EACjB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;EACd,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,2BAA2B;AAC7B;;AAEA;EACE,YAAY;EACZ,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,2BAA2B;EAC3B,yBAAyB;EACzB,eAAe;EACf,mBAAmB;AACrB;;AAEA;;EAEE,oBAAoB;EACpB,eAAe;EACf,qGAAqG;AACvG;;AAEA;EACE,eAAe;EACf,WAAW;EACX,iBAAiB;EACjB,eAAe;EACf,aAAa;EACb,YAAY;EACZ,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE;IACE,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,eAAe;IACf,yBAAyB;IACzB,YAAY;IACZ,eAAe;EACjB;;EAEA;IACE,aAAa;IACb,sCAAsC;IACtC,cAAc;IACd,WAAW;IACX,YAAY;EACd;;EAEA;IACE,WAAW;IACX,YAAY;EACd;;EAEA;IACE,WAAW;IACX,YAAY;EACd;;EAEA;IACE,aAAa;IACb,sBAAsB;IACtB,8BAA8B;IAC9B,eAAe;IACf,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,yBAAyB;IACzB,iBAAiB;IACjB,QAAQ;IACR,SAAS;EACX;;EAEA;IACE,UAAU;IACV,YAAY;IACZ,YAAY;EACd;;EAEA;IACE,UAAU;IACV,YAAY;EACd;AACF",sourcesContent:["* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  background-color: black;\r\n}\r\n\r\nnav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  background-color: darkred;\r\n  height: 60px;\r\n  padding: 0 20px;\r\n}\r\n\r\nnav ul {\r\n  display: flex;\r\n  text-decoration: none;\r\n  list-style: none;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 15px;\r\n  font-size: 20px;\r\n}\r\n\r\nnav div a,\r\nnav ul li a {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n\r\nfooter {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 5px;\r\n  height: 50px;\r\n  background-color: darkred;\r\n}\r\n\r\n.footer div {\r\n  background-image: url('./images/logo.PNG');\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.movielist {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n  margin: auto;\r\n}\r\n\r\n.movie-items {\r\n  width: 80vw;\r\n  height: 100%;\r\n  margin: auto;\r\n}\r\n\r\n.movie-items img {\r\n  width: 100%;\r\n  height: 50vh;\r\n}\r\n\r\n.movie-items p {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: white;\r\n}\r\n\r\n.btn {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 10px;\r\n}\r\n\r\n.comments-button,\r\n.reserve {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  border-radius: 8px 2px;\r\n  background-color: darkred;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  position: fixed;\r\n  overflow-y: scroll;\r\n  width: 90vw;\r\n  height: 90vh;\r\n  background-color: darkred;\r\n  border: goldenrod;\r\n  left: 0;\r\n  right: 0;\r\n  top: 10px;\r\n  margin: auto;\r\n}\r\n\r\n.popup img {\r\n  width: 80vw;\r\n  margin: auto;\r\n  margin-top: 5%;\r\n  left: 20px;\r\n}\r\n\r\n.popup h3 {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 10%;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n}\r\n\r\nform input {\r\n  padding: 10px;\r\n  border: 3px solid goldenrod;\r\n}\r\n\r\nform textarea {\r\n  padding: 5px;\r\n  border: 3px solid goldenrod;\r\n}\r\n\r\nform button {\r\n  padding: 10px;\r\n  border: 3px solid goldenrod;\r\n  box-shadow: 3px 3px black;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.popup p,\r\n.popup ul {\r\n  color: darkturquoise;\r\n  font-size: 16px;\r\n  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.close-btn {\r\n  cursor: pointer;\r\n  width: 100%;\r\n  text-align: right;\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  border: none;\r\n  background: none;\r\n  color: #fff;\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n  nav {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 20px;\r\n    background-color: darkred;\r\n    height: 60px;\r\n    padding: 0 20px;\r\n  }\r\n\r\n  .movielist {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    gap: 10px 20px;\r\n    width: 95vw;\r\n    margin: auto;\r\n  }\r\n\r\n  .movie-items {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .movie-items img {\r\n    width: 100%;\r\n    height: 50vh;\r\n  }\r\n\r\n  .popup {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    position: fixed;\r\n    overflow-y: scroll;\r\n    width: 30vw;\r\n    height: 80vh;\r\n    background-color: darkred;\r\n    border: goldenrod;\r\n    top: 15%;\r\n    left: 10%;\r\n  }\r\n\r\n  .popup img {\r\n    width: 70%;\r\n    height: 50vh;\r\n    margin: auto;\r\n  }\r\n\r\n  .popup div {\r\n    width: 90%;\r\n    margin: auto;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const l=d},645:n=>{n.exports=function(n){var r=[];return r.toString=function(){return this.map((function(r){var e="",t=void 0!==r[5];return r[4]&&(e+="@supports (".concat(r[4],") {")),r[2]&&(e+="@media ".concat(r[2]," {")),t&&(e+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),e+=n(r),t&&(e+="}"),r[2]&&(e+="}"),r[4]&&(e+="}"),e})).join("")},r.i=function(n,e,t,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(t)for(var A=0;A<this.length;A++){var s=this[A][0];null!=s&&(i[s]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);t&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),r.push(d))}},r}},667:n=>{n.exports=function(n,r){return r||(r={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),r.hash&&(n+=r.hash),/["'() \t\n]|(%20)/.test(n)||r.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},537:n=>{n.exports=function(n){var r=n[1],e=n[3];if(!e)return r;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),a="/*# ".concat(o," */"),i=e.sources.map((function(n){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(n," */")}));return[r].concat(i).concat([a]).join("\n")}return[r].join("\n")}},379:n=>{var r=[];function e(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function t(n,t){for(var a={},i=[],A=0;A<n.length;A++){var s=n[A],c=t.base?s[0]+t.base:s[0],d=a[c]||0,p="".concat(c," ").concat(d);a[c]=d+1;var l=e(p),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==l)r[l].references++,r[l].updater(u);else{var m=o(u,t);t.byIndex=A,r.splice(A,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function o(n,r){var e=r.domAPI(r);return e.update(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap&&r.supports===n.supports&&r.layer===n.layer)return;e.update(n=r)}else e.remove()}}n.exports=function(n,o){var a=t(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var A=e(a[i]);r[A].references--}for(var s=t(n,o),c=0;c<a.length;c++){var d=e(a[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}a=s}}},569:n=>{var r={};n.exports=function(n,e){var t=function(n){if(void 0===r[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}r[n]=e}return r[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}},216:n=>{n.exports=function(n){var r=document.createElement("style");return n.setAttributes(r,n.attributes),n.insert(r,n.options),r}},565:(n,r,e)=>{n.exports=function(n){var r=e.nc;r&&n.setAttribute("nonce",r)}},795:n=>{n.exports=function(n){var r=n.insertStyleElement(n);return{update:function(e){!function(n,r,e){var t="";e.supports&&(t+="@supports (".concat(e.supports,") {")),e.media&&(t+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(t+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),t+=e.css,o&&(t+="}"),e.media&&(t+="}"),e.supports&&(t+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),r.styleTagTransform(t,n,r.options)}(r,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(r)}}}},589:n=>{n.exports=function(n,r){if(r.styleSheet)r.styleSheet.cssText=n;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(n))}}},57:(n,r,e)=>{var t=e(379),o=e.n(t),a=e(795),i=e.n(a),A=e(569),s=e.n(A),c=e(565),d=e.n(c),p=e(216),l=e.n(p),u=e(589),m=e.n(u),f=e(426),h={};h.styleTagTransform=m(),h.setAttributes=d(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=l(),o()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const E="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/mSLrzI04H4x2wsHv1BBd/likes";window.addEventListener("DOMContentLoaded",(async()=>{const n=await(async()=>{const n=await fetch("https://api.tvmaze.com/shows");try{return await n.json()}catch(n){return n}})(),r=document.querySelector(".movielist");for(let e=158;e<190;e+=1)r.innerHTML+=`\n    <div id='${n[e].id}' class="movie-items">\n        <img src=${n[e].image.original} alt=${n[e].name}>\n        <p>${n[e].name}<span><i class="fa fa-heart"></i><i class="likes-display" id="Likes${n[e].id}"></i></span></p>\n        <div class="btn">\n        <button type="button" class="comments-button">Comments</button>\n        <button type="button" class="reserve">Reservations</button>\n        </div>\n    </div>\n        `;document.querySelectorAll(".fa-heart").forEach((n=>{n.addEventListener("click",(n=>{(async n=>{const r=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:`${n}`})});try{await r.json()}catch(n){return n}})(n.target.parentNode.parentNode.parentNode.id),(n=>{const r=document.getElementById(`${n}`);let e=+r.childNodes[3].childNodes[1].childNodes[1].innerHTML;e+=1,r.childNodes[3].childNodes[1].childNodes[1].innerHTML=e})(+n.target.parentNode.parentNode.parentNode.id)}))})),(async()=>{const n=await(async()=>{const n=await fetch(E);try{return await n.json()}catch(n){return n}})();document.querySelectorAll(".likes-display").forEach((r=>{let{id:e}=r;const t=document.getElementById(`${e}`);e=e.replace(/Likes/,"");const o=n.find((n=>+n.item_id==+e));void 0===o.likes&&(t.innerHTML=""),t.innerHTML=o.likes}))})();document.querySelectorAll(".comments-button").forEach((n=>{n.addEventListener("click",(n=>{(async n=>{const e=await fetch(`https://api.tvmaze.com/shows/${n}`),t=await e.json(),o=document.querySelector("body"),a=document.createElement("div");a.classList.add("popup"),a.innerHTML=`\n    <button type="button" class="close-btn"><span>X</span></button>\n    <div>\n      <img src="${t.image.medium}" alt="${t.name}">\n      <h2>${t.name}</h2>\n      <p><span>${t.genres}</span></p>\n      <p><span>${t.premiered}</span><span>${t.rating.average}</span></p>\n    </div>\n    <div>\n      <h3><span>Comments</span></h3>\n      <ul></ul>\n      <h4>Add a new comment</h4>\n      <form action="#" id=${n}>\n      <input type="text" placeholder="Your Name" required>\n      <textarea type="text" placeholder="Your Comment" required></textarea>\n      <button type="submit">Comment</button>\n      </form>\n      </div>\n      `,o.append(a),document.querySelector(".close-btn").addEventListener("click",(()=>{o.removeChild(o.lastElementChild),r.style.filter="blur(0)"})),(async()=>{const r=document.querySelector(".popup ul"),e=await(async n=>{const r=await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/mSLrzI04H4x2wsHv1BBd/comments?item_id=${n}`);try{return await r.json()}catch(n){return n}})(n);e.forEach((n=>{r.innerHTML+=`<li>${n.creation_date} ${n.username}: ${n.comment}</li>`}))})();const i=document.querySelector("form");i.addEventListener("submit",(n=>{n.preventDefault();const r=document.querySelector("form input").value.trim(),e=document.querySelector("form textarea").value.trim();document.querySelector(".popup ul").innerHTML+=`<li>${r}: ${e}</li>`;const{id:t}=i;(async(n,r,e)=>{const t=await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/mSLrzI04H4x2wsHv1BBd/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n,username:r,comment:e})});try{await t.json()}catch(n){return n}})(t,r,e),i.reset()}))})(+n.target.parentNode.parentNode.id),r.style.filter="blur(3px)"}))})),document.querySelectorAll(".reserve").forEach((n=>{n.addEventListener("click",(n=>{(async n=>{const e=await fetch(`https://api.tvmaze.com/shows/${n}`),t=await e.json(),o=document.querySelector("body"),a=document.createElement("div");a.classList.add("popup"),a.innerHTML=`\n    <button type="button" class="close-btn"><span>X</span></button>\n    <div>\n        <img src="${t.image.medium}" alt="${t.name}">\n        <h2>${t.name}</h2>\n        <p><span>${t.genres}</span></p>\n        <p><span>${t.premiered}</span><span>${t.rating.average}</span></p>\n      </div>\n      <div>\n        <h3><span>Reservations</span>\n        </h3>\n        <ul></ul>\n        <h4>Add a new reservation</h4>\n        <form action="#" id=${n}>\n        <input type="text" class="name" placeholder="Your Name" required>\n        <input onfocus="(this.type='date')" onblur="(this.type='text')" class="start" placeholder="Start Date" required>\n        <input onfocus="(this.type='date')" onblur="(this.type='text')" class="end" placeholder="End Date" required>\n        <button type="submit">Reserve</button>\n        </form>\n      <div>\n        `,o.append(a),document.querySelector(".close-btn").addEventListener("click",(()=>{o.removeChild(o.lastElementChild),r.style.filter="blur(0)"})),(async()=>{const r=document.querySelector(".popup ul"),e=await(async n=>{const r=await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/mSLrzI04H4x2wsHv1BBd/reservations?item_id=${n}`);try{return await r.json()}catch(n){return n}})(n);e.forEach((n=>{r.innerHTML+=`<li>${n.date_start} - ${n.date_end} by ${n.username}</li>`}))})();const i=document.querySelector("form");i.addEventListener("submit",(n=>{n.preventDefault();const r=document.querySelector(".name").value.trim(),e=document.querySelector(".start").value.trim(),t=document.querySelector(".end").value.trim();document.querySelector(".popup ul").innerHTML+=`<li>${e} - ${t} by ${r}</li>`;const{id:o}=i;(async(n,r,e,t)=>{const o=await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/mSLrzI04H4x2wsHv1BBd/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n,username:r,date_start:e,date_end:t})});try{await o.json()}catch(n){return n}})(o,r,e,t),i.reset()}))})(+n.target.parentNode.parentNode.id),r.style.filter="blur(3px)"}))}))}))},304:(n,r,e)=>{n.exports=e.p+"67bb1723011478a2513b.PNG"}},n=>{n(n.s=57)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxXQUFhLE9BQU8rRCxPQUFtQkMsUUFBa0JsQixTQUN4RSxNQUFNLEdBQUVwSyxHQUFPa0ssRUZuR0lyRCxPQUFPN0csRUFBSXlILEVBQU04RCxFQUFZQyxLQUNwRCxNQUFNekUsUUFBaUJDLE1BQU0sNEdBQTZHLENBQ3hJYSxPQUFRLE9BQ1JDLFFBQVMsQ0FBRSxlQUFnQixvQkFDM0JDLEtBQU16RixLQUFLQyxVQUNULENBQ0V5RixRQUFTaEksRUFDVGdLLFNBQVV2QyxFQUNWeUQsV0FBWUssRUFDWkosU0FBVUssTUFJaEIsVUFDbUN6RSxFQUFTRSxNQUk1QyxDQUZFLE1BQU9DLEdBQ1AsT0FBT0EsQ0FDVCxHRWtGSXVFLENBQWlCekwsRUFBSW9LLEVBQVVpQixFQUFlQyxHQUM5Q3BCLEVBQVVRLE9BQU8sR0FDakIsRUFZQWdCLEVBQXFCcEcsRUFBRVIsT0FBT3NCLFdBQVdBLFdBQVdwRyxJQUNwRG9ILEVBQVd2QyxNQUFNNkUsT0FBUyxXQUFXLEdBQ3JDLEdBQ0YsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9jaGlsbC1hdC1pbWF4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2hpbGwtYXQtaW1heC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9jaGlsbC1hdC1pbWF4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vY2hpbGwtYXQtaW1heC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vY2hpbGwtYXQtaW1heC8uL3NyYy9tb2R1bGVzL2ZldGNoLmpzIiwid2VicGFjazovL2NoaWxsLWF0LWltYXgvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2hpbGwtYXQtaW1heC8uL3NyYy9tb2R1bGVzL3VpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuL2ltYWdlcy9sb2dvLlBOR1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgcGFkZGluZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG59XFxyXFxuXFxyXFxubmF2IHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZm9udC1zaXplOiAyMHB4O1xcclxcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxuICBoZWlnaHQ6IDYwcHg7XFxyXFxuICBwYWRkaW5nOiAwIDIwcHg7XFxyXFxufVxcclxcblxcclxcbm5hdiB1bCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZ2FwOiAxNXB4O1xcclxcbiAgZm9udC1zaXplOiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5uYXYgZGl2IGEsXFxyXFxubmF2IHVsIGxpIGEge1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgY29sb3I6IGJsYWNrO1xcclxcbn1cXHJcXG5cXHJcXG5mb290ZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIG1hcmdpbi10b3A6IDVweDtcXHJcXG4gIGhlaWdodDogNTBweDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxufVxcclxcblxcclxcbi5mb290ZXIgZGl2IHtcXHJcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7XFxyXFxuICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7XFxyXFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcclxcbn1cXHJcXG5cXHJcXG4ubW92aWVsaXN0IHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgZ2FwOiAxMHB4O1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBtYXJnaW46IGF1dG87XFxyXFxufVxcclxcblxcclxcbi5tb3ZpZS1pdGVtcyB7XFxyXFxuICB3aWR0aDogODB2dztcXHJcXG4gIGhlaWdodDogMTAwJTtcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLm1vdmllLWl0ZW1zIGltZyB7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGhlaWdodDogNTB2aDtcXHJcXG59XFxyXFxuXFxyXFxuLm1vdmllLWl0ZW1zIHAge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmJ0biB7XFxyXFxuICBkaXNwbGF5OiBncmlkO1xcclxcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcclxcbiAgZ2FwOiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uY29tbWVudHMtYnV0dG9uLFxcclxcbi5yZXNlcnZlIHtcXHJcXG4gIHBhZGRpbmc6IDhweDtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIGJvcmRlci1yYWRpdXM6IDhweCAycHg7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxyXFxuICB3aWR0aDogOTB2dztcXHJcXG4gIGhlaWdodDogOTB2aDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxuICBib3JkZXI6IGdvbGRlbnJvZDtcXHJcXG4gIGxlZnQ6IDA7XFxyXFxuICByaWdodDogMDtcXHJcXG4gIHRvcDogMTBweDtcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwIGltZyB7XFxyXFxuICB3aWR0aDogODB2dztcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG4gIG1hcmdpbi10b3A6IDUlO1xcclxcbiAgbGVmdDogMjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwIGgzIHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBtYXJnaW4tdG9wOiAxMCU7XFxyXFxufVxcclxcblxcclxcbmZvcm0ge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICBnYXA6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuZm9ybSBpbnB1dCB7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgYm9yZGVyOiAzcHggc29saWQgZ29sZGVucm9kO1xcclxcbn1cXHJcXG5cXHJcXG5mb3JtIHRleHRhcmVhIHtcXHJcXG4gIHBhZGRpbmc6IDVweDtcXHJcXG4gIGJvcmRlcjogM3B4IHNvbGlkIGdvbGRlbnJvZDtcXHJcXG59XFxyXFxuXFxyXFxuZm9ybSBidXR0b24ge1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGJvcmRlcjogM3B4IHNvbGlkIGdvbGRlbnJvZDtcXHJcXG4gIGJveC1zaGFkb3c6IDNweCAzcHggYmxhY2s7XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAgcCxcXHJcXG4ucG9wdXAgdWwge1xcclxcbiAgY29sb3I6IGRhcmt0dXJxdW9pc2U7XFxyXFxuICBmb250LXNpemU6IDE2cHg7XFxyXFxuICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG59XFxyXFxuXFxyXFxuLmNsb3NlLWJ0biB7XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcclxcbiAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGJvcmRlcjogbm9uZTtcXHJcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxyXFxuICBjb2xvcjogI2ZmZjtcXHJcXG59XFxyXFxuXFxyXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHtcXHJcXG4gIG5hdiB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgZm9udC1zaXplOiAyMHB4O1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrcmVkO1xcclxcbiAgICBoZWlnaHQ6IDYwcHg7XFxyXFxuICAgIHBhZGRpbmc6IDAgMjBweDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5tb3ZpZWxpc3Qge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyIDFmcjtcXHJcXG4gICAgZ2FwOiAxMHB4IDIwcHg7XFxyXFxuICAgIHdpZHRoOiA5NXZ3O1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxuICB9XFxyXFxuXFxyXFxuICAubW92aWUtaXRlbXMge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgfVxcclxcblxcclxcbiAgLm1vdmllLWl0ZW1zIGltZyB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDUwdmg7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAucG9wdXAge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcclxcbiAgICB3aWR0aDogMzB2dztcXHJcXG4gICAgaGVpZ2h0OiA4MHZoO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrcmVkO1xcclxcbiAgICBib3JkZXI6IGdvbGRlbnJvZDtcXHJcXG4gICAgdG9wOiAxNSU7XFxyXFxuICAgIGxlZnQ6IDEwJTtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5wb3B1cCBpbWcge1xcclxcbiAgICB3aWR0aDogNzAlO1xcclxcbiAgICBoZWlnaHQ6IDUwdmg7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5wb3B1cCBkaXYge1xcclxcbiAgICB3aWR0aDogOTAlO1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxuICB9XFxyXFxufVxcclxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxTQUFTO0VBQ1QsVUFBVTtBQUNaOztBQUVBO0VBQ0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IscUJBQXFCO0VBQ3JCLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBOztFQUVFLHFCQUFxQjtFQUNyQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsWUFBWTtFQUNaLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlEQUEwQztFQUMxQyxxQkFBcUI7RUFDckIsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixTQUFTO0VBQ1QsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osWUFBWTtBQUNkOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixTQUFTO0FBQ1g7O0FBRUE7O0VBRUUsWUFBWTtFQUNaLGVBQWU7RUFDZixzQkFBc0I7RUFDdEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0Qiw4QkFBOEI7RUFDOUIsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsT0FBTztFQUNQLFFBQVE7RUFDUixTQUFTO0VBQ1QsWUFBWTtBQUNkOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixjQUFjO0VBQ2QsVUFBVTtBQUNaOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyQkFBMkI7RUFDM0IseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZixtQkFBbUI7QUFDckI7O0FBRUE7O0VBRUUsb0JBQW9CO0VBQ3BCLGVBQWU7RUFDZixxR0FBcUc7QUFDdkc7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0U7SUFDRSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNDQUFzQztJQUN0QyxjQUFjO0lBQ2QsV0FBVztJQUNYLFlBQVk7RUFDZDs7RUFFQTtJQUNFLFdBQVc7SUFDWCxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsWUFBWTtFQUNkOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qiw4QkFBOEI7SUFDOUIsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsUUFBUTtJQUNSLFNBQVM7RUFDWDs7RUFFQTtJQUNFLFVBQVU7SUFDVixZQUFZO0lBQ1osWUFBWTtFQUNkOztFQUVBO0lBQ0UsVUFBVTtJQUNWLFlBQVk7RUFDZDtBQUNGXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgcGFkZGluZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG59XFxyXFxuXFxyXFxubmF2IHtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZm9udC1zaXplOiAyMHB4O1xcclxcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxuICBoZWlnaHQ6IDYwcHg7XFxyXFxuICBwYWRkaW5nOiAwIDIwcHg7XFxyXFxufVxcclxcblxcclxcbm5hdiB1bCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgZ2FwOiAxNXB4O1xcclxcbiAgZm9udC1zaXplOiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5uYXYgZGl2IGEsXFxyXFxubmF2IHVsIGxpIGEge1xcclxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgY29sb3I6IGJsYWNrO1xcclxcbn1cXHJcXG5cXHJcXG5mb290ZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIG1hcmdpbi10b3A6IDVweDtcXHJcXG4gIGhlaWdodDogNTBweDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxufVxcclxcblxcclxcbi5mb290ZXIgZGl2IHtcXHJcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnLi9pbWFnZXMvbG9nby5QTkcnKTtcXHJcXG4gIGJhY2tncm91bmQtc2l6ZTogMTAwJTtcXHJcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxyXFxufVxcclxcblxcclxcbi5tb3ZpZWxpc3Qge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICBnYXA6IDEwcHg7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLm1vdmllLWl0ZW1zIHtcXHJcXG4gIHdpZHRoOiA4MHZ3O1xcclxcbiAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgbWFyZ2luOiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4ubW92aWUtaXRlbXMgaW1nIHtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgaGVpZ2h0OiA1MHZoO1xcclxcbn1cXHJcXG5cXHJcXG4ubW92aWUtaXRlbXMgcCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuIHtcXHJcXG4gIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxyXFxuICBnYXA6IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5jb21tZW50cy1idXR0b24sXFxyXFxuLnJlc2VydmUge1xcclxcbiAgcGFkZGluZzogOHB4O1xcclxcbiAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgYm9yZGVyLXJhZGl1czogOHB4IDJweDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxufVxcclxcblxcclxcbi5wb3B1cCB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXHJcXG4gIHdpZHRoOiA5MHZ3O1xcclxcbiAgaGVpZ2h0OiA5MHZoO1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogZGFya3JlZDtcXHJcXG4gIGJvcmRlcjogZ29sZGVucm9kO1xcclxcbiAgbGVmdDogMDtcXHJcXG4gIHJpZ2h0OiAwO1xcclxcbiAgdG9wOiAxMHB4O1xcclxcbiAgbWFyZ2luOiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAgaW1nIHtcXHJcXG4gIHdpZHRoOiA4MHZ3O1xcclxcbiAgbWFyZ2luOiBhdXRvO1xcclxcbiAgbWFyZ2luLXRvcDogNSU7XFxyXFxuICBsZWZ0OiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAgaDMge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gIG1hcmdpbi10b3A6IDEwJTtcXHJcXG59XFxyXFxuXFxyXFxuZm9ybSB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGdhcDogNXB4O1xcclxcbn1cXHJcXG5cXHJcXG5mb3JtIGlucHV0IHtcXHJcXG4gIHBhZGRpbmc6IDEwcHg7XFxyXFxuICBib3JkZXI6IDNweCBzb2xpZCBnb2xkZW5yb2Q7XFxyXFxufVxcclxcblxcclxcbmZvcm0gdGV4dGFyZWEge1xcclxcbiAgcGFkZGluZzogNXB4O1xcclxcbiAgYm9yZGVyOiAzcHggc29saWQgZ29sZGVucm9kO1xcclxcbn1cXHJcXG5cXHJcXG5mb3JtIGJ1dHRvbiB7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgYm9yZGVyOiAzcHggc29saWQgZ29sZGVucm9kO1xcclxcbiAgYm94LXNoYWRvdzogM3B4IDNweCBibGFjaztcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxyXFxufVxcclxcblxcclxcbi5wb3B1cCBwLFxcclxcbi5wb3B1cCB1bCB7XFxyXFxuICBjb2xvcjogZGFya3R1cnF1b2lzZTtcXHJcXG4gIGZvbnQtc2l6ZTogMTZweDtcXHJcXG4gIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcbn1cXHJcXG5cXHJcXG4uY2xvc2UtYnRuIHtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxyXFxuICBmb250LXNpemU6IDE2cHg7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgYm9yZGVyOiBub25lO1xcclxcbiAgYmFja2dyb3VuZDogbm9uZTtcXHJcXG4gIGNvbG9yOiAjZmZmO1xcclxcbn1cXHJcXG5cXHJcXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xcclxcbiAgbmF2IHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBmb250LXNpemU6IDIwcHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxuICAgIGhlaWdodDogNjBweDtcXHJcXG4gICAgcGFkZGluZzogMCAyMHB4O1xcclxcbiAgfVxcclxcblxcclxcbiAgLm1vdmllbGlzdCB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnIgMWZyO1xcclxcbiAgICBnYXA6IDEwcHggMjBweDtcXHJcXG4gICAgd2lkdGg6IDk1dnc7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5tb3ZpZS1pdGVtcyB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAubW92aWUtaXRlbXMgaW1nIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogNTB2aDtcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5wb3B1cCB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XFxyXFxuICAgIHdpZHRoOiAzMHZ3O1xcclxcbiAgICBoZWlnaHQ6IDgwdmg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtyZWQ7XFxyXFxuICAgIGJvcmRlcjogZ29sZGVucm9kO1xcclxcbiAgICB0b3A6IDE1JTtcXHJcXG4gICAgbGVmdDogMTAlO1xcclxcbiAgfVxcclxcblxcclxcbiAgLnBvcHVwIGltZyB7XFxyXFxuICAgIHdpZHRoOiA3MCU7XFxyXFxuICAgIGhlaWdodDogNTB2aDtcXHJcXG4gICAgbWFyZ2luOiBhdXRvO1xcclxcbiAgfVxcclxcblxcclxcbiAgLnBvcHVwIGRpdiB7XFxyXFxuICAgIHdpZHRoOiA5MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG4gIH1cXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTsgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNvbnN0IG1vdmllQXBpVXJsID0gJ2h0dHBzOi8vYXBpLnR2bWF6ZS5jb20vc2hvd3MnO1xuY29uc3QgbGlrZXNVcmwgPSAnaHR0cHM6Ly91cy1jZW50cmFsMS1pbnZvbHZlbWVudC1hcGkuY2xvdWRmdW5jdGlvbnMubmV0L2NhcHN0b25lQXBpL2FwcHMvbVNMcnpJMDRINHgyd3NIdjFCQmQvbGlrZXMnO1xuXG5jb25zdCBmZXRjaE1vdmllcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtb3ZpZUFwaVVybCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG5jb25zdCBmZXRjaExpa2VzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxpa2VzVXJsKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBsaWtlc3Jlc3VsdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGxpa2VzcmVzdWx0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG5jb25zdCBwb3N0TGlrZXMgPSBhc3luYyAoaWQpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsaWtlc1VybCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaXRlbV9pZDogYCR7aWR9YCB9KSxcbiAgfSk7XG4gIHRyeSB7XG4gICAgY29uc3QgcG9zdGVkTGlrZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHBvc3RlZExpa2VzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IHBvc3RDb21tZW50cyA9IGFzeW5jIChpZCwgbmFtZSwgdXNlcmNvbW1lbnQpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly91cy1jZW50cmFsMS1pbnZvbHZlbWVudC1hcGkuY2xvdWRmdW5jdGlvbnMubmV0L2NhcHN0b25lQXBpL2FwcHMvbVNMcnpJMDRINHgyd3NIdjFCQmQvY29tbWVudHMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpdGVtX2lkOiBpZCwgdXNlcm5hbWU6IG5hbWUsIGNvbW1lbnQ6IHVzZXJjb21tZW50IH0pLFxuICB9KTtcbiAgdHJ5IHtcbiAgICBjb25zdCBwb3N0ZWRDb21tZW50cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcG9zdGVkQ29tbWVudHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59O1xuY29uc3QgZmV0Y2hDb21tZW50cyA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL3VzLWNlbnRyYWwxLWludm9sdmVtZW50LWFwaS5jbG91ZGZ1bmN0aW9ucy5uZXQvY2Fwc3RvbmVBcGkvYXBwcy9tU0xyekkwNEg0eDJ3c0h2MUJCZC9jb21tZW50cz9pdGVtX2lkPSR7aWR9YCk7XG4gIHRyeSB7XG4gICAgY29uc3QgY29tbWVudHNyZXN1bHRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBjb21tZW50c3Jlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59O1xuY29uc3QgcG9zdFJlc2VydmF0aW9ucyA9IGFzeW5jIChpZCwgbmFtZSwgZGF0ZVBvc3RlZCwgZGF0ZUVuZGVkKSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vdXMtY2VudHJhbDEtaW52b2x2ZW1lbnQtYXBpLmNsb3VkZnVuY3Rpb25zLm5ldC9jYXBzdG9uZUFwaS9hcHBzL21TTHJ6STA0SDR4MndzSHYxQkJkL3Jlc2VydmF0aW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShcbiAgICAgIHtcbiAgICAgICAgaXRlbV9pZDogaWQsXG4gICAgICAgIHVzZXJuYW1lOiBuYW1lLFxuICAgICAgICBkYXRlX3N0YXJ0OiBkYXRlUG9zdGVkLFxuICAgICAgICBkYXRlX2VuZDogZGF0ZUVuZGVkLFxuICAgICAgfSxcbiAgICApLFxuICB9KTtcbiAgdHJ5IHtcbiAgICBjb25zdCBwb3N0ZWRyZXNlcnZhdGlvbnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHBvc3RlZHJlc2VydmF0aW9ucztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG5jb25zdCBmZXRjaFJlc2VydmF0aW9ucyA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL3VzLWNlbnRyYWwxLWludm9sdmVtZW50LWFwaS5jbG91ZGZ1bmN0aW9ucy5uZXQvY2Fwc3RvbmVBcGkvYXBwcy9tU0xyekkwNEg0eDJ3c0h2MUJCZC9yZXNlcnZhdGlvbnM/aXRlbV9pZD0ke2lkfWApO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc2VydmF0aW9ucmVzdWx0cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzZXJ2YXRpb25yZXN1bHRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgZmV0Y2hNb3ZpZXMsIGZldGNoTGlrZXMsIHBvc3RMaWtlcywgcG9zdENvbW1lbnRzLCBmZXRjaENvbW1lbnRzLFxuICBwb3N0UmVzZXJ2YXRpb25zLCBmZXRjaFJlc2VydmF0aW9ucyxcbn07XG4iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCBkaXNwbGF5TW92aWVzIGZyb20gJy4vbW9kdWxlcy91aS5qcyc7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGxheU1vdmllcyk7XG4iLCJpbXBvcnQge1xuICBmZXRjaE1vdmllcywgZmV0Y2hMaWtlcywgcG9zdExpa2VzLCBwb3N0Q29tbWVudHMsIGZldGNoQ29tbWVudHMsXG4gIHBvc3RSZXNlcnZhdGlvbnMsIGZldGNoUmVzZXJ2YXRpb25zLFxufSBmcm9tICcuL2ZldGNoLmpzJztcblxuLy8gRGlzcGxheWluZyBNb3ZpZXMgZnJvbSBBUEkgdG8gRE9NXG5jb25zdCBkaXNwbGF5TW92aWVzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBkaXNwbGF5ID0gYXdhaXQgZmV0Y2hNb3ZpZXMoKTtcbiAgY29uc3QgZG9tRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb3ZpZWxpc3QnKTtcbiAgZm9yIChsZXQgZW50cnkgPSAxNTg7IGVudHJ5IDwgMTkwOyBlbnRyeSArPSAxKSB7XG4gICAgZG9tRGlzcGxheS5pbm5lckhUTUwgKz0gYFxuICAgIDxkaXYgaWQ9JyR7ZGlzcGxheVtlbnRyeV0uaWR9JyBjbGFzcz1cIm1vdmllLWl0ZW1zXCI+XG4gICAgICAgIDxpbWcgc3JjPSR7ZGlzcGxheVtlbnRyeV0uaW1hZ2Uub3JpZ2luYWx9IGFsdD0ke2Rpc3BsYXlbZW50cnldLm5hbWV9PlxuICAgICAgICA8cD4ke2Rpc3BsYXlbZW50cnldLm5hbWV9PHNwYW4+PGkgY2xhc3M9XCJmYSBmYS1oZWFydFwiPjwvaT48aSBjbGFzcz1cImxpa2VzLWRpc3BsYXlcIiBpZD1cIkxpa2VzJHtkaXNwbGF5W2VudHJ5XS5pZH1cIj48L2k+PC9zcGFuPjwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNvbW1lbnRzLWJ1dHRvblwiPkNvbW1lbnRzPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicmVzZXJ2ZVwiPlJlc2VydmF0aW9uczwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgfVxuICAvLyBEaXNwbGF5aW5nIExpa2VzIG9uIE1vdmllIEl0ZW1zXG4gIGNvbnN0IGRpc3BsYXlMaWtlcyA9IChpbmRleCkgPT4ge1xuICAgIGNvbnN0IGFkZGVkTGlrZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpbmRleH1gKTtcbiAgICBsZXQgcmVmcmVzaGVkTGlrZXMgPSArYWRkZWRMaWtlcy5jaGlsZE5vZGVzWzNdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1sxXS5pbm5lckhUTUw7XG4gICAgcmVmcmVzaGVkTGlrZXMgKz0gMTtcbiAgICBhZGRlZExpa2VzLmNoaWxkTm9kZXNbM10uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzFdLmlubmVySFRNTCA9IHJlZnJlc2hlZExpa2VzO1xuICB9O1xuICBjb25zdCBoZWFydEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmEtaGVhcnQnKTtcbiAgaGVhcnRJY29uLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBwb3N0TGlrZXMoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQpO1xuICAgICAgZGlzcGxheUxpa2VzKCtlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBzaG93TGlrZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hlZExpa2VzID0gYXdhaXQgZmV0Y2hMaWtlcygpO1xuICAgIGNvbnN0IGxpa2VzRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlrZXMtZGlzcGxheScpO1xuICAgIGxpa2VzRmllbGQuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgIGxldCB7IGlkIH0gPSBmaWVsZDtcbiAgICAgIGNvbnN0IGFkZGVkTGlrZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpZH1gKTtcbiAgICAgIGlkID0gaWQucmVwbGFjZSgvTGlrZXMvLCAnJyk7XG4gICAgICBjb25zdCBuZXdMaWtlcyA9IGZldGNoZWRMaWtlcy5maW5kKChsaWtlKSA9PiArbGlrZS5pdGVtX2lkID09PSAraWQpO1xuICAgICAgaWYgKG5ld0xpa2VzLmxpa2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWRkZWRMaWtlcy5pbm5lckhUTUwgPSAnJztcbiAgICAgIH0gYWRkZWRMaWtlcy5pbm5lckhUTUwgPSBuZXdMaWtlcy5saWtlcztcbiAgICB9KTtcbiAgfTtcbiAgc2hvd0xpa2VzKCk7XG4gIC8vIERpc3BsYXkgQ29tbWVudHMgUG9wdXBcbiAgY29uc3QgZGlzcGxheUNvbW1lbnRzID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkudHZtYXplLmNvbS9zaG93cy8ke2lkfWApO1xuICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgY29uc3QgY29tbWVudHNEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29tbWVudHNEaXNwbGF5LmNsYXNzTGlzdC5hZGQoJ3BvcHVwJyk7XG4gICAgY29tbWVudHNEaXNwbGF5LmlubmVySFRNTCA9IGBcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlLWJ0blwiPjxzcGFuPlg8L3NwYW4+PC9idXR0b24+XG4gICAgPGRpdj5cbiAgICAgIDxpbWcgc3JjPVwiJHtjb21tZW50cy5pbWFnZS5tZWRpdW19XCIgYWx0PVwiJHtjb21tZW50cy5uYW1lfVwiPlxuICAgICAgPGgyPiR7Y29tbWVudHMubmFtZX08L2gyPlxuICAgICAgPHA+PHNwYW4+JHtjb21tZW50cy5nZW5yZXN9PC9zcGFuPjwvcD5cbiAgICAgIDxwPjxzcGFuPiR7Y29tbWVudHMucHJlbWllcmVkfTwvc3Bhbj48c3Bhbj4ke2NvbW1lbnRzLnJhdGluZy5hdmVyYWdlfTwvc3Bhbj48L3A+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgIDxoMz48c3Bhbj5Db21tZW50czwvc3Bhbj48L2gzPlxuICAgICAgPHVsPjwvdWw+XG4gICAgICA8aDQ+QWRkIGEgbmV3IGNvbW1lbnQ8L2g0PlxuICAgICAgPGZvcm0gYWN0aW9uPVwiI1wiIGlkPSR7aWR9PlxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJZb3VyIE5hbWVcIiByZXF1aXJlZD5cbiAgICAgIDx0ZXh0YXJlYSB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiWW91ciBDb21tZW50XCIgcmVxdWlyZWQ+PC90ZXh0YXJlYT5cbiAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPkNvbW1lbnQ8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICBib2R5LmFwcGVuZChjb21tZW50c0Rpc3BsYXkpO1xuXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnRuJyk7XG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBib2R5LnJlbW92ZUNoaWxkKGJvZHkubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICBkb21EaXNwbGF5LnN0eWxlLmZpbHRlciA9ICdibHVyKDApJztcbiAgICB9KTtcblxuICAgIGNvbnN0IGZldGNoZWRDb21tZW50cyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZUNvbW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwIHVsJyk7XG4gICAgICBjb25zdCBjb21tZW50UmVzdWx0cyA9IGF3YWl0IGZldGNoQ29tbWVudHMoaWQpO1xuICAgICAgY29tbWVudFJlc3VsdHMuZm9yRWFjaCgoY29tbWVudCkgPT4ge1xuICAgICAgICB1cGRhdGVDb21tZW50cy5pbm5lckhUTUwgKz0gYDxsaT4ke2NvbW1lbnQuY3JlYXRpb25fZGF0ZX0gJHtjb21tZW50LnVzZXJuYW1lfTogJHtjb21tZW50LmNvbW1lbnR9PC9saT5gO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmZXRjaGVkQ29tbWVudHMoKTtcbiAgICBjb25zdCBwb3B1cEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gaW5wdXQnKS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB1c2VyQ29tbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gdGV4dGFyZWEnKS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB1cGRhdGVDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCB1bCcpO1xuICAgICAgdXBkYXRlQ29tbWVudHMuaW5uZXJIVE1MICs9IGA8bGk+JHt1c2VyTmFtZX06ICR7dXNlckNvbW1lbnR9PC9saT5gO1xuICAgICAgY29uc3QgeyBpZCB9ID0gcG9wdXBGb3JtO1xuICAgICAgcG9zdENvbW1lbnRzKGlkLCB1c2VyTmFtZSwgdXNlckNvbW1lbnQpO1xuICAgICAgcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgfSk7XG4gIH07XG4gICAgLy8gRGlzcGxheSBSZXNlcnZhdGlvbnMgUG9wdXBcbiAgY29uc3QgZGlzcGxheVJlc2VydmF0aW9ucyA9IGFzeW5jIChpZCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLnR2bWF6ZS5jb20vc2hvd3MvJHtpZH1gKTtcbiAgICBjb25zdCByZXNlcnZlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGNvbnN0IHJlc2VydmVzRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJlc2VydmVzRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdwb3B1cCcpO1xuICAgIHJlc2VydmVzRGlzcGxheS5pbm5lckhUTUwgPSBgXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZS1idG5cIj48c3Bhbj5YPC9zcGFuPjwvYnV0dG9uPlxuICAgIDxkaXY+XG4gICAgICAgIDxpbWcgc3JjPVwiJHtyZXNlcnZlcy5pbWFnZS5tZWRpdW19XCIgYWx0PVwiJHtyZXNlcnZlcy5uYW1lfVwiPlxuICAgICAgICA8aDI+JHtyZXNlcnZlcy5uYW1lfTwvaDI+XG4gICAgICAgIDxwPjxzcGFuPiR7cmVzZXJ2ZXMuZ2VucmVzfTwvc3Bhbj48L3A+XG4gICAgICAgIDxwPjxzcGFuPiR7cmVzZXJ2ZXMucHJlbWllcmVkfTwvc3Bhbj48c3Bhbj4ke3Jlc2VydmVzLnJhdGluZy5hdmVyYWdlfTwvc3Bhbj48L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMz48c3Bhbj5SZXNlcnZhdGlvbnM8L3NwYW4+XG4gICAgICAgIDwvaDM+XG4gICAgICAgIDx1bD48L3VsPlxuICAgICAgICA8aDQ+QWRkIGEgbmV3IHJlc2VydmF0aW9uPC9oND5cbiAgICAgICAgPGZvcm0gYWN0aW9uPVwiI1wiIGlkPSR7aWR9PlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5hbWVcIiBwbGFjZWhvbGRlcj1cIllvdXIgTmFtZVwiIHJlcXVpcmVkPlxuICAgICAgICA8aW5wdXQgb25mb2N1cz1cIih0aGlzLnR5cGU9J2RhdGUnKVwiIG9uYmx1cj1cIih0aGlzLnR5cGU9J3RleHQnKVwiIGNsYXNzPVwic3RhcnRcIiBwbGFjZWhvbGRlcj1cIlN0YXJ0IERhdGVcIiByZXF1aXJlZD5cbiAgICAgICAgPGlucHV0IG9uZm9jdXM9XCIodGhpcy50eXBlPSdkYXRlJylcIiBvbmJsdXI9XCIodGhpcy50eXBlPSd0ZXh0JylcIiBjbGFzcz1cImVuZFwiIHBsYWNlaG9sZGVyPVwiRW5kIERhdGVcIiByZXF1aXJlZD5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+UmVzZXJ2ZTwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8ZGl2PlxuICAgICAgICBgO1xuICAgIGJvZHkuYXBwZW5kKHJlc2VydmVzRGlzcGxheSk7XG5cbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1idG4nKTtcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoYm9keS5sYXN0RWxlbWVudENoaWxkKTtcbiAgICAgIGRvbURpc3BsYXkuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMCknO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZmV0Y2hlZFJlc2VydmVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlUmVzZXJ2YXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwIHVsJyk7XG4gICAgICBjb25zdCByZXNlcnZlUmVzdWx0cyA9IGF3YWl0IGZldGNoUmVzZXJ2YXRpb25zKGlkKTtcbiAgICAgIHJlc2VydmVSZXN1bHRzLmZvckVhY2goKHJlc2VydmUpID0+IHtcbiAgICAgICAgdXBkYXRlUmVzZXJ2YXRpb25zLmlubmVySFRNTCArPSBgPGxpPiR7cmVzZXJ2ZS5kYXRlX3N0YXJ0fSAtICR7cmVzZXJ2ZS5kYXRlX2VuZH0gYnkgJHtyZXNlcnZlLnVzZXJuYW1lfTwvbGk+YDtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZmV0Y2hlZFJlc2VydmVzKCk7XG4gICAgY29uc3QgcG9wdXBGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIHBvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpLnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHVzZXJTdGFydERhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhcnQnKS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB1c2VyRW5kRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbmQnKS52YWx1ZS50cmltKCk7XG4gICAgICBjb25zdCB1cGRhdGVSZXNlcnZlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCB1bCcpO1xuICAgICAgdXBkYXRlUmVzZXJ2ZXMuaW5uZXJIVE1MICs9IGA8bGk+JHt1c2VyU3RhcnREYXRlfSAtICR7dXNlckVuZERhdGV9IGJ5ICR7dXNlck5hbWV9PC9saT5gO1xuICAgICAgY29uc3QgeyBpZCB9ID0gcG9wdXBGb3JtO1xuICAgICAgcG9zdFJlc2VydmF0aW9ucyhpZCwgdXNlck5hbWUsIHVzZXJTdGFydERhdGUsIHVzZXJFbmREYXRlKTtcbiAgICAgIHBvcHVwRm9ybS5yZXNldCgpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBhZGRlZENvbW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbW1lbnRzLWJ1dHRvbicpO1xuICBhZGRlZENvbW1lbnRzLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBkaXNwbGF5Q29tbWVudHMoK2UudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZCk7XG4gICAgICBkb21EaXNwbGF5LnN0eWxlLmZpbHRlciA9ICdibHVyKDNweCknO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgYWRkZWRSZXNlcnZhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzZXJ2ZScpO1xuICBhZGRlZFJlc2VydmF0aW9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZGlzcGxheVJlc2VydmF0aW9ucygrZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkKTtcbiAgICAgIGRvbURpc3BsYXkuc3R5bGUuZmlsdGVyID0gJ2JsdXIoM3B4KSc7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGlzcGxheU1vdmllczsiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxpa2VzVXJsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzeW5jIiwiZGlzcGxheSIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwiZXJyb3IiLCJmZXRjaE1vdmllcyIsImRvbURpc3BsYXkiLCJlbnRyeSIsImlubmVySFRNTCIsImltYWdlIiwib3JpZ2luYWwiLCJuYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidXR0b24iLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIml0ZW1faWQiLCJwb3N0TGlrZXMiLCJhZGRlZExpa2VzIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZWZyZXNoZWRMaWtlcyIsImNoaWxkTm9kZXMiLCJkaXNwbGF5TGlrZXMiLCJmZXRjaGVkTGlrZXMiLCJmZXRjaExpa2VzIiwiZmllbGQiLCJuZXdMaWtlcyIsImZpbmQiLCJsaWtlIiwibGlrZXMiLCJzaG93TGlrZXMiLCJjb21tZW50cyIsImNvbW1lbnRzRGlzcGxheSIsImNsYXNzTGlzdCIsImFkZCIsIm1lZGl1bSIsImdlbnJlcyIsInByZW1pZXJlZCIsInJhdGluZyIsImF2ZXJhZ2UiLCJhcHBlbmQiLCJsYXN0RWxlbWVudENoaWxkIiwiZmlsdGVyIiwidXBkYXRlQ29tbWVudHMiLCJjb21tZW50UmVzdWx0cyIsImZldGNoQ29tbWVudHMiLCJjb21tZW50IiwiY3JlYXRpb25fZGF0ZSIsInVzZXJuYW1lIiwiZmV0Y2hlZENvbW1lbnRzIiwicG9wdXBGb3JtIiwicHJldmVudERlZmF1bHQiLCJ1c2VyTmFtZSIsInZhbHVlIiwidHJpbSIsInVzZXJDb21tZW50IiwidXNlcmNvbW1lbnQiLCJwb3N0Q29tbWVudHMiLCJyZXNldCIsImRpc3BsYXlDb21tZW50cyIsInJlc2VydmVzIiwicmVzZXJ2ZXNEaXNwbGF5IiwidXBkYXRlUmVzZXJ2YXRpb25zIiwicmVzZXJ2ZVJlc3VsdHMiLCJmZXRjaFJlc2VydmF0aW9ucyIsInJlc2VydmUiLCJkYXRlX3N0YXJ0IiwiZGF0ZV9lbmQiLCJmZXRjaGVkUmVzZXJ2ZXMiLCJ1c2VyU3RhcnREYXRlIiwidXNlckVuZERhdGUiLCJkYXRlUG9zdGVkIiwiZGF0ZUVuZGVkIiwicG9zdFJlc2VydmF0aW9ucyIsImRpc3BsYXlSZXNlcnZhdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9